<div class="container">
    <h1 class="lead">Market Page</h1>
    <div>
        <div style="display:inline-block">
            <p>Year:</p>
            <select name="year" id="yearDropdown" ng-model="vm.options.year">
                <option value="2016">2016</option>
                <option value="2017">2017</option>
            </select>
        </div>
        <div style="display:inline-block">
            <p>Quarter:</p>
            <select name="quarter" id="quarterDropdown" ng-model="vm.options.quarter">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </div>
        <div style="display:inline-block">
            <p>Market</p>
            <select name="market" id="marketDropdown" ng-model="vm.options.market">
                <option value="Minneapolis CBD">Minneapolis CBD</option>
                <option value="Northeast">Northeast</option>
                <option value="Northwest">Northwest</option>
                <option value="South/Airport">South/Airport</option>
                <option value="Southwest">Southwest</option>
                <option value="St.Paul CBD">St.Paul CBD</option>
                <option value="West">West</option>
            </select>
        </div>

        <button ng-click="vm.searchData(vm.options)">Search</button>
    </div>
    <div style="width:400px; height: 400px; display:inline-block" map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params="{{vm.googleMapsUrl}}">
        <ng-map center="44.9778,-93.2650" zoom="10">
            <shape path="{{vm.paths}}" name="polygon"></shape>
        </ng-map>
    </div>
    <div style="width:400px; height: 400px; display:inline-block">
        <canvas id="inventoryChart" width="400" height="400"></canvas>
    </div>
    <div style="width:400px; height: 400px; display:inline-block">
        <canvas id="absorptionChart" width="400" height="400"></canvas>
    </div>
    <div>
        <table>
            <tr>
                <th>{{vm.options.market}}</th>
                <th>Total # of Buildings</th>
                <th>NRA</th>
                <th>Vacant Space</th>
                <th>Sublease Space</th>
                <th>Percent Vacant</th>
                <th>% Vacant w/Sublease</th>
                <th>Absorption</th>
                <th>Avg Rate</th>
                <th>Total OE & T</th>
            </tr>
            <tr ng-repeat="item in vm.marketData.data">
                <td>{{item.Class}}</td>
                <td>{{item.Total_Buildings}}</td>
                <td>{{item.NRA}}</td>
                <td>{{item.Vacant_Space}}</td>
                <td>{{item.Sublease_Space}}</td>
                <td>{{item.Percent_Vacant}}</td>
                <td>{{item.Percent_Vacant_With_Sublease}}</td>
                <td>{{item.Absorption}}</td>
                <td>{{item.Avg_Rate}}</td>
                <td>{{item.OE_T}}</td>
            </tr>
        </table>
    </div>
</div>